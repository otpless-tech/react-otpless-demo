{"ast":null,"code":"var _jsxFileName = \"/Users/heetgabani/Desktop/REACT/my-app/src/Headless/EmailAuth.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EmailAuth = () => {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [otp, setOtp] = useState(\"\");\n  const [response, setResponse] = useState(null);\n  const [OTPlessSignin, setOTPlessSignin] = useState(null);\n  useEffect(() => {\n    // Load OTPless SDK script dynamically\n    const script = document.createElement(\"script\");\n    script.id = \"otpless-sdk\";\n    script.src = \"https://otpless.com/v2/headless.js\";\n    script.setAttribute(\"data-appid\", \"RM2I31PAOMTTAJ0UGFLP\");\n    script.onload = initializeSDK;\n    document.head.appendChild(script);\n\n    // Cleanup function to remove the script when the component unmounts\n    return () => {\n      document.head.removeChild(script);\n    };\n  }, []);\n  const initializeSDK = () => {\n    // Initialize OTPlessSignin once the SDK is loaded\n    setOTPlessSignin(new window.OTPless());\n  };\n  const handleEmailAuth = async () => {\n    if (!OTPlessSignin || !email) return;\n    try {\n      const res = await OTPlessSignin.initiate({\n        channel: \"EMAIL\",\n        email: email\n      });\n      setResponse(res);\n      document.getElementById(\"otp-section\").style.display = \"block\";\n    } catch (error) {\n      console.error(\"Error initiating email authentication:\", error);\n    }\n  };\n  const handleVerifyOTP = async () => {\n    if (!OTPlessSignin || !email || !otp) return;\n    try {\n      const res = await OTPlessSignin.verify({\n        channel: \"EMAIL\",\n        email: email,\n        otp: otp\n      });\n      setResponse(res);\n    } catch (error) {\n      console.error(\"Error verifying OTP:\", error);\n    }\n  };\n  const copyResponse = () => {\n    if (response) {\n      navigator.clipboard.writeText(JSON.stringify(response, null, 2)).then(() => alert(\"Response copied to clipboard!\")).catch(error => console.error(\"Error copying response:\", error));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"email-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"email-input\",\n        type: \"email\",\n        placeholder: \"Enter email address\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleEmailAuth,\n        children: \"Request OTP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"otp-section\",\n      style: {\n        display: \"none\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"otp-input\",\n        type: \"text\",\n        placeholder: \"Enter OTP\",\n        value: otp,\n        onChange: e => setOtp(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleVerifyOTP,\n        children: \"Verify OTP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"response-container\",\n      children: response && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Response:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: JSON.stringify(response, null, 2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: copyResponse,\n          children: \"Copy Response\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(EmailAuth, \"kvM8jhEPz6b2qbNJCwRsy/CFbyQ=\");\n_c = EmailAuth;\nexport default EmailAuth;\nvar _c;\n$RefreshReg$(_c, \"EmailAuth\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","EmailAuth","_s","email","setEmail","otp","setOtp","response","setResponse","OTPlessSignin","setOTPlessSignin","script","document","createElement","id","src","setAttribute","onload","initializeSDK","head","appendChild","removeChild","window","OTPless","handleEmailAuth","res","initiate","channel","getElementById","style","display","error","console","handleVerifyOTP","verify","copyResponse","navigator","clipboard","writeText","JSON","stringify","then","alert","catch","children","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/heetgabani/Desktop/REACT/my-app/src/Headless/EmailAuth.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst EmailAuth = () => {\n  const [email, setEmail] = useState(\"\");\n  const [otp, setOtp] = useState(\"\");\n  const [response, setResponse] = useState(null);\n  const [OTPlessSignin, setOTPlessSignin] = useState(null);\n\n  useEffect(() => {\n    // Load OTPless SDK script dynamically\n    const script = document.createElement(\"script\");\n    script.id = \"otpless-sdk\";\n    script.src = \"https://otpless.com/v2/headless.js\";\n    script.setAttribute(\"data-appid\", \"RM2I31PAOMTTAJ0UGFLP\");\n    script.onload = initializeSDK;\n    document.head.appendChild(script);\n\n    // Cleanup function to remove the script when the component unmounts\n    return () => {\n      document.head.removeChild(script);\n    };\n  }, []);\n\n  const initializeSDK = () => {\n    // Initialize OTPlessSignin once the SDK is loaded\n    setOTPlessSignin(new window.OTPless());\n  };\n\n  const handleEmailAuth = async () => {\n    if (!OTPlessSignin || !email) return;\n\n    try {\n      const res = await OTPlessSignin.initiate({\n        channel: \"EMAIL\",\n        email: email,\n      });\n      setResponse(res);\n      document.getElementById(\"otp-section\").style.display = \"block\";\n    } catch (error) {\n      console.error(\"Error initiating email authentication:\", error);\n    }\n  };\n\n  const handleVerifyOTP = async () => {\n    if (!OTPlessSignin || !email || !otp) return;\n\n    try {\n      const res = await OTPlessSignin.verify({\n        channel: \"EMAIL\",\n        email: email,\n        otp: otp,\n      });\n      setResponse(res);\n    } catch (error) {\n      console.error(\"Error verifying OTP:\", error);\n    }\n  };\n\n  const copyResponse = () => {\n    if (response) {\n      navigator.clipboard\n        .writeText(JSON.stringify(response, null, 2))\n        .then(() => alert(\"Response copied to clipboard!\"))\n        .catch((error) => console.error(\"Error copying response:\", error));\n    }\n  };\n\n  return (\n    <div>\n      <div id=\"email-section\">\n        <input\n          id=\"email-input\"\n          type=\"email\"\n          placeholder=\"Enter email address\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <button onClick={handleEmailAuth}>Request OTP</button>\n      </div>\n\n      <div id=\"otp-section\" style={{ display: \"none\" }}>\n        <input\n          id=\"otp-input\"\n          type=\"text\"\n          placeholder=\"Enter OTP\"\n          value={otp}\n          onChange={(e) => setOtp(e.target.value)}\n        />\n        <button onClick={handleVerifyOTP}>Verify OTP</button>\n      </div>\n\n      <div id=\"response-container\">\n        {response && (\n          <>\n            <h3>Response:</h3>\n            <pre>{JSON.stringify(response, null, 2)}</pre>\n            <button onClick={copyResponse}>Copy Response</button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EmailAuth;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}